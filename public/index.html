<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI 기반 학원 추천 서비스</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="map"></div>

    <div id="academy-detail" class="hidden">
        <button id="close-button" class="close-button">&times;</button>
        <div class="detail-header">
            <span id="detail-name"></span>
        </div>
        <div class="detail-body">
            <div class="detail-row">
                <span class="detail-label">주소:</span>
                <span id="detail-address"></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">전화번호:</span>
                <span id="detail-phone"></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">교습과정:</span>
                <span id="detail-course"></span>
            </div>
            <div class="detail-row">
                <span class="detail-label">위도:</span>
                <span id="detail-lat"> </span>                
            </div>
            <div class="detail-row">               
                <span class="detail-label">경도:</span>
                <span id="detail-lng"> </span>
            </div>
            <div class="detail-row">
                <span class="detail-label">ATOA AI 평판지수: </span>
                <span id="detail-ai-score"></span>
            </div>
        </div>
    </div>

    <button id="ai-button">AI 추천 받기</button>

    <button id="top10-button">10</button>

    <div id="ai-popup" class="hidden">
        <div class="popup-content">
            <div class="popup-header">
                <span class="popup-title">AI 코칭</span>
                <button id="ai-close-button" class="close-button">&times;</button>
            </div>
            <div id="ai-popup-header">
                <div id="keyword-buttons-container">
                    <button class="keyword-btn" data-keyword="초등 수학 학원"># 초등수학</button>
                    <button class="keyword-btn" data-keyword="영어 회화 추천"># 영어회화</button>
                    <button class="keyword-btn" data-keyword="코딩 교육"># 코딩교육</button>
                    <button class="keyword-btn" data-keyword="예체능 학원"># 예체능</button>
                    <button class="keyword-btn" data-keyword="주말 수업"># 주말수업</button>
                    <button class="keyword-btn" data-keyword="내신 대비"># 내신대비</button>
                    <button class="keyword-btn" data-keyword="수능 준비"># 수능준비</button>
                </div>
                <div id="selected-keywords-container"></div>
            </div>
            <div class="popup-body">
                <div id="ai-chat-display">
                    <div class="chat-message ai-message">최적의 학원 찾기를 도와드릴 ATOA AI입니다.</div>
                    <div class="chat-message ai-message">관심분야 키워드를 선택하시면 관련된 답변을 드릴수 있습니다.</div>
                    <div id="recommend-button-container" class="hidden">
                        <button id="go-to-recommendation-button">추천 결과 보러가기</button>
                    </div>
                </div>
            </div>
            <div id="ai-input-section">
                <textarea id="chat-input" placeholder="질문을 입력하세요..." rows="1"></textarea>
                <button id="chat-send-button">전송</button>
            </div>
        </div>
    </div>

    <div id="grouped-academies-popup" class="modal hidden">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>이 위치의 학원 목록</h2>
            <div id="grouped-academies-list" class="academy-list">
                </div>
        </div>
    </div>
    
    <div class="search-container">
        <div class="input-group">
            <input type="text" id="keyword-input" placeholder="학원명 또는 키워드 입력">
            <select id="course-select"></select>
            <button id="search-button">검색</button>
        </div>
        
        <div class="input-group district-search">
            <input type="text" id="district-input" placeholder="행정구역 검색 (예: 강남구)">
            <button id="district-search-button">지역이동</button>
        </div>
    </div>

    <div id="message-popup" class="hidden">
        <div class="message-content">
            <button id="message-close-button" class="close-button">&times;</button>
            <p id="message-text"></p>
        </div>
    </div>


    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=e5f5b4a70e19433ba3b5a0b8bb9ed7ef&libraries=services"></script>
    <script src="script.js"></script>
</body>
</html>